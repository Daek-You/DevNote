# 1. 인터럽트(Interrupt)란?

<img src="https://media.istockphoto.com/id/1327760987/ko/%EC%82%AC%EC%A7%84/%EC%9D%B8%EA%B0%84-%EC%8B%A0%EA%B2%BD%EA%B3%84-%EB%87%8C-%ED%95%B4%EB%B6%80%ED%95%99%EC%9D%98-%EC%A4%91%EC%95%99-%EA%B8%B0%EA%B4%80.jpg?s=612x612&w=0&k=20&c=3zWl_hY7bZRR8Ot9I1BCDiMn1DBCIV-yjP7EtbA8k9g=">  

- 인터럽트는 <b>컴퓨터가 현재 하고 있는 일을 잠시 멈추고, 다른 중요한 일을 처리하도록 하는 신호</b>를 말함
- 사람이 책을 읽고 있을 때 갑자기 전화벨이 울리면, 우리는 책을 읽던 페이지를 기억하고 전화를 받음
- 전화 통화가 끝나면, 다시 책을 읽던 페이지로 돌아가 읽기를 계속 진행
- 인터럽트 또한 이와 유사하며
- CPU가 프로그램을 실행 중인데 인터럽트가 발생한다면, 현재 실행 상태를 저장해두고 인터럽트를 처리한 후에 다시 돌아와 이전 작업을 재개

## 인터럽트의 분류
### 발생 위치에 따른 분류

> <b>✅외부 인터럽트 (External Interrupt)</b>  
> - CPU 외부의, 즉 하드웨어 장치에서 발생하는 인터럽트  
> - CPU 밖에서 하드웨어 장치가 발생시키며, CPU는 현재 실행 중인 명령어를 완료한 후에 처리  
> - ex. 키보드, 마우스 등의 입력 장치에서 발생하는 인터럽트  
> - ex. 디스크, 프린터, 네트워크 카드 등의 I/O 장치가 작업을 완료했을 때  
> - ex. 타이머에서 발생시키는 시간 경과 신호  
> - ex. 전원 문제나 하드웨어 오류  

> <b>✅내부 인터럽트 (Internal Interrupt)</b>  
> - CPU 내부에서, 즉 프로그램 실행 중에 발생하는 인터럽트  
> - 이후에 얘기할 `트랩(Trap)`과 `예외(Exception)`을 포함  
> - 주로 프로그램 오류나 특별한 상황에서 발생함  
> - ex. 0으로 나누기, 오버플로우/언더플로우, 잘못된 메모리 주소 접근, 잘못된 명령어 코드  
> - ex. 시스템 호출  

### 발생 원인/목적에 따른 분류

> <b>📌하드웨어 인터럽트 (Hardware Interrupt)</b>  
> - 하드웨어 장치에서 발생하는 신호  
> - ex. 키보드 입력, 마우스 클릭, 디스크 읽기/쓰기 완료  

> <b>📌트랩 (Trap) 또는 소프트웨어 인터럽트 (Software Interrupt)</b>  
> - 프로그램에서 의도적으로 발생시키는 인터럽트  
> - ex. 시스템 호출(System call, 프로그램이 운영체제에 서비스를 요청할 때)  

> <b>📌예외 (Exception)</b>  
> - 프로그램을 실행하던 중, 오류나 특별한 조건이 발생할 때  
> - ex. 0으로 나누기, 존재하지 않는 메모리 접근 시도  

### 처리 방식에 따른 분류

> <b>✏️마스크 가능한 인터럽트 (Maskable Interrupt)</b>  
> - 필요 시, 무시 가능한 인터럽트  
> - 프로세서에 일반적으로 내장된 인터럽트 마스크 레지스터를 통해 하드웨어 인터럽트를 선택적으로 활성화 및 비활성화 가능  
> - 마스크 레지스터의 비트는 각 인터럽트 신호에 대응  
> - 일부 시스템에서는 비트가 설정되면 인터럽트가 활성화되고 비트가 지워지면 인터럽트가 비활성화되지만, 다른 시스템에서는 비트가 설정되면 인터럽트가 비활성화됨  

> <b>✏️마스크 불가능한 인터럽트 (Non-Maskable Interrupt)</b>  
> - 항상 처리해야 함  

<br>

# 2. 인터럽트 처리 과정

![인터럽트 처리 과정](/Resources/Images/ISR.png)  

1. <b>인터럽트 발생</b>: 장치나 프로그램에서 인터럽트 신호가 발생한다.  
2. <b>CPU 인터럽트 확인</b>: CPU는 각 명령어 실행 사이클이 끝날 때마다 인터럽트 신호가 있는지 확인한다.  
3. <b>현재 상태 저장</b>: 인터럽트가 감지되면, CPU는 현재 실행 중이던 프로그램의 상태(프로그램 카운터, 레지스터 등)를 저장한다.  
4. <b>인터럽트 서비스 루틴(`ISR`, Interrupt Service Routine)</b>: 운영체제는 인터럽트 벡터 테이블(`IVT`, Interrupt Vector Table)을 참조하여, 해당 인터럽트를 처리할 코드(ISR)를 실행한다.  
5. <b>인터럽트 처리 완료</b>: 인터럽트 처리가 끝나면, 저장했던 상태를 복원하고 원래 프로그램으로 돌아간다.  
