# 1. API Gateway: "νΈν…”μ ν”„λ΅ νΈ λ°μ¤ν¬"

<img src="https://www.express-gateway.io/assets/img/api-gw-role.png" width="1200">  

- `Spring Cloude Gateway`λ¥Ό κ³µλ¶€ν•κΈ° μ „μ—, λ¨Όμ € `API Gateway`λΌλ” κ°λ…μ— λ€ν•΄ μ•κ³  κ°€μ•Όν•¨
- λ‹Ήμ‹ μ΄ νΈν…”μ„ μ΄μ©ν•λ ¤λ” μ†λ‹μ΄λΌκ³  κ°€μ •

> - νΈν…” μ†λ‹(ν΄λΌμ΄μ–ΈνΈ)μ€ λ£Έμ„λΉ„μ¤, μ²­μ† λ“±μ λ‹¤μ–‘ν• μ„λΉ„μ¤λ¥Ό μ΄μ©ν•κ³  μ‹¶λ‹¤.
> - ν•μ§€λ§ κ° μ„λΉ„μ¤ λ‹΄λ‹Ήμλ¥Ό μ§μ ‘ μ°Ύμ•„λ‹¤λ‹λ” λ€μ‹ , <b>ν”„λ΅ νΈ λ°μ¤ν¬(API Gateway)</b>μ— μ”μ²­ν•λ‹¤.
> - ν”„λ΅ νΈ λ°μ¤ν¬λ” μ†λ‹μ μ”μ²­μ„ λ°›μ•„ <b>μ μ ν• μ„λΉ„μ¤ λ¶€μ„λ΅ μ „λ‹¬</b>ν•κ³ , <b>κ²°κ³Όλ¥Ό λ‹¤μ‹ μ†λ‹μ—κ² μ „λ‹¬</b>ν•λ‹¤.  

- `API Gateway`λ” λ°”λ΅ μ΄λ¬ν• ν”„λ΅ νΈ λ°μ¤ν¬μ™€ κ°™μ€ μ—­ν• μ„ μν–‰
- μ›Ή/λ¨λ°”μΌ μ•±μ΄λ‚ λ‹¤λ¥Έ μ„λΉ„μ¤μ—μ„ μ¤λ” <b>λ¨λ“  μ”μ²­μ„ λ°›μ•„ μ μ ν• λ‚΄λ¶€ μ„λΉ„μ¤λ΅ λΌμ°ν…</b>ν•΄μ¤

### β“μ™ API Gatewayκ°€ ν•„μ”ν•κ°€?

- ν„λ€ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„λ” <b>μ—¬λ¬ κ°μ μ‘μ€ μ„λΉ„μ¤λ“¤μ΄ ν•¨κ» λ™μ‘ν•κ³  μλ” κµ¬μ΅°</b>λ¥Ό λ„κ³  μμ π‘‰ [λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ²(MSA)](https://wooaoe.tistory.com/57)  
- μλ¥Ό λ“¤μ–΄, μ‡Όν•‘λ° μ•±μ€ λ‹¤μκ³Ό κ°™μ€ μ„λΉ„μ¤λ΅ κµ¬μ„±λ  μ μμ

> - μ‚¬μ©μ μ„λΉ„μ¤ (λ΅κ·ΈμΈ, νμ›κ°€μ…)
> - μƒν’ μ„λΉ„μ¤ (μƒν’ λ©λ΅, μƒμ„Έ μ •λ³΄)
> - μ£Όλ¬Έ μ„λΉ„μ¤ (μ¥λ°”κµ¬λ‹, κ²°μ )
> - λ°°μ†΅ μ„λΉ„μ¤ (λ°°μ†΅ μ¶”μ )  

- μ΄λ¬ν• κµ¬μ΅°μ—μ„λ” λ‹¤μκ³Ό κ°™μ€ λ¬Έμ μ λ“¤μ΄ λ°μƒν•  μ μμ

> <b>βλ°μƒν•λ” λ¬Έμ λ“¤</b>
> 1. ν΄λΌμ΄μ–ΈνΈ λ³µμ΅μ„±: μ•±μ΄ κ° μ„λΉ„μ¤μ— μ§μ ‘ μ—°κ²°ν•λ©΄ λ§¤μ° λ³µμ΅ν•΄μ§„λ‹¤.
> 2. μΈμ¦ μ¤‘λ³µ: κ° μ„λΉ„μ¤λ§λ‹¤ μΈμ¦ λ΅μ§μ„ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.
> 3. λ‹¤μ–‘ν• ν”„λ΅ν† μ½: κ° μ„λΉ„μ¤λ§λ‹¤ λ‹¤λ¥Έ ν†µμ‹  λ°©μ‹μ„ μ‚¬μ©ν•  μλ„ μλ‹¤.
> 4. μ„λΉ„μ¤ μ„μΉ λ³€κ²½: μ„λΉ„μ¤ μ£Όμ†κ°€ λ³€κ²½λλ©΄, λ¨λ“  ν΄λΌμ΄μ–ΈνΈλ¥Ό μ—…λ°μ΄νΈν•΄μ•Ό ν•λ‹¤.  

- `API Gateway`λ” μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μμ

> <b>β…λ¬Έμ  ν•΄κ²°</b>  
> 1. λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ‹¨μΌ μ§€μ μ—μ„ λ°›μ•„μ„ μ²λ¦¬ν•λ‹¤.
> 2. κ³µν†µ κΈ°λ¥(μΈμ¦, λ΅κΉ… λ“±)μ„ ν• κ³³μ—μ„ μ²λ¦¬ν•λ‹¤.
> 3. ν΄λΌμ΄μ–ΈνΈλ” μ—¬λ¬ μ„λΉ„μ¤ λ€μ‹ , ν•λ‚μ κ²μ΄νΈμ›¨μ΄λ§ μ•λ©΄ λλ‹¤. (μ„λΉ„μ¤ μ„μΉλ¥Ό λ³€κ²½ν•΄λ„ μƒκ΄€ X)

<br>

# 2. Spring Cloud Gatewayλ€?

<img src="https://miro.medium.com/v2/resize:fit:1400/1*jvFNOwcOuLYQ7cKMWDyCCw.png" width="1200">  

- `Spring Cloude Gateway`λ” Spring Frameworkμ—μ„ μ κ³µν•λ” API Gateway μ†”λ£¨μ…
- Netflix Zuulκ³Ό κ°™μ€ λ‹¤λ¥Έ κ²μ΄νΈμ›¨μ΄λ„ μμ§€λ§, `Spring Cloude Gateway`λ” λ” ν„λ€μ μ΄κ³  μ„±λ¥μ΄ λ›°μ–΄λ‚¨
- <b>λ΅λ“ λ°Έλ°μ‹±(Load Balacing)</b> κΈ°λ¥κΉμ§€ νƒ‘μ¬λμ–΄ μμ!

### μ£Όμ” νΉμ§•
> <b>1. λΉ λ¥Έ μ²λ¦¬ λ¥λ ¥</b>  
> - λΉ„λ™κΈ° & λ…ΌλΈ”λ΅ν‚Ή λ°©μ‹μΌλ΅ λ™μ‹μ— λ§μ€ μ”μ²­μ„ μ²λ¦¬ν•  μ μμ
> - λ§μΉ, μΉ΄νμ—μ„ μ£Όλ¬Έμ„ λ°›μ€ μ§μ›μ΄ λ‹¤μ μ†λ‹μ„ λ°›μΌλ©΄μ„ λ™μ‹μ— λ°”λ¦¬μ¤νƒ€μ—κ² μ£Όλ¬Έμ„ μ „λ‹¬ν•λ” κ²ƒκ³Ό κ°™μ

> <b>2. μ”μ²­ λΌμ°ν…</b>  
> - λ“¤μ–΄μ¨ μ”μ²­μ„ μ–΄λ–¤ μ„λΉ„μ¤λ΅ λ³΄λ‚Όμ§€ κ²°μ •
> - URL, ν—¤λ”, μΏΌλ¦¬ νλΌλ―Έν„° λ“±μ„ κΈ°μ¤€μΌλ΅ λΌμ°ν… κ°€λ¥

> <b>3. μ”μ²­/μ‘λ‹µ λ³€ν™</b>  
> - μ”μ²­μ΄λ‚ μ‘λ‹µμ„ ν•„μ”μ— λ”°λΌ μμ •ν•  μ μμ
> - ex. ν—¤λ” μ¶”κ°€, κ²½λ΅ λ³€κ²½, μ‘λ‹µ λ‚΄μ© μμ •

> <b>4. κ³µν†µ κΈ°λ¥ μ¤‘μ•™ν™”</b>  
> - μΈμ¦/μΈκ°€ κΈ°λ¥
> - μ”μ²­ μ ν• (νΉμ • μ‹κ°„ λ‚΄ μ”μ²­ μ μ ν•)
> - λ΅κΉ… λ° λ¨λ‹ν„°λ§  

### ν•µμ‹¬ κµ¬μ„± μ”μ†

1. <b>`Route(κ²½λ΅)`</b>
    - "μ΄λ° μ΅°κ±΄μ μ”μ²­μ΄ μ¤λ©΄, μ΄ μ„λΉ„μ¤λ΅ λ³΄λ‚΄λΌ!"λΌλ” κ·μΉ™
    - ex. "/user"λ΅ μ‹μ‘ν•λ” URLμ€ μ‚¬μ©μ μ„λΉ„μ¤λ΅ λ³΄λ‚΄λΌ!
2. <b>`Predicate(μ΅°κ±΄λ¶€)`</b>
    - μ”μ²­μ΄ νΉμ • μ΅°κ±΄μ— λ§λ”μ§€ ν™•μΈν•λ” κ·μΉ™
    - ex. κ²½λ΅κ°€ νΉμ • ν¨ν„΄μΈμ§€, GET μ”μ²­μΈμ§€, νΉμ • ν—¤λ”κ°€ μλ”μ§€ λ“±
3. <b>`Filter(ν•„ν„°)`</b>
    - μ”μ²­μ΄λ‚ μ‘λ‹µμ„ μμ •ν•λ” μ»΄ν¬λ„νΈ
    - ex. μΈμ¦ ν† ν° ν™•μΈ, μ”μ²­μ— ν—¤λ” μ¶”κ°€, μ‘λ‹µ λ°μ΄ν„° λ³€ν™ λ“±  
